---
title: "郵便番号・住所・緯度経度の体系について"
date: 2022/07/19 00:00:01
postid: b
tag:
  - 初心者向け
  - 郵便番号
  - 地図
  - 緯度経度
category:
  - Programming
thumbnail: /images/20220719b/thumbnail.png
author: 今泉智義
lede: "こんにちは。TIG DXユニット所属の今泉です。郵便番号・住所・緯度経度について調べる機会があり、自分なりに整理したものを記事にしてみます。本記事ではシステム開発において、仕様レベルでの間違いを防ぐため「知っておいた方がいいだろうな」と思った内容をピックアップして紹介します。"
---
## はじめに
こんにちは。TIG DXユニット所属の今泉です。[地図・GIS・位置特定](/articles/20220719a/)連載の1本目です。


郵便番号・住所・緯度経度について調べる機会があり、自分なりに整理したものを記事にしてみます。
本記事ではシステム開発において、仕様レベルでの間違いを防ぐため「知っておいた方がいいだろうな」と思った内容をピックアップして紹介します。

## 郵便番号
郵便番号は郵便物配送の分類に使用される番号で、日本では数字のみの7桁で表現されます。現在の郵便番号は1998年にそれまで5桁または3桁であった郵便番号を7桁に統一することで、町域までの指定ができるようになっています。

インターネットが普及した現在ではUX向上のため、郵便番号検索による住所補完などでも使用される機会が多いかと思います。本記事では詳しく取り上げませんが、郵便番号の一覧は「KEN_ALL.CSV」として公開されています。お世話になった方もいるのではないでしょうか？

日本郵便が公表している郵便番号マニュアルを確認してみましょう。

>けた数
>7けたとします。（3けた目と4けた目の間にハイフンを入れます。）
使用文字
当分の間、算用数字のみを使用します。
郵便番号で表す範囲（図1参照）
ア
郵便番号は、町域（特別区又は市町村区域内の町又は字の区域をいいます。ただし、原則として、町の名称に「丁目」を使用している場合は、○丁目を除く部分が同一の区域とし、大字と小字に分かれている場合は、大字の区域とします。）および超高層ビルに設定します。
イ
小字又は通称には原則として、郵便番号は設定しません。ただし、当該小字又は通称が実質的に大字又は公称町名として扱われ、郵便物への記載が多い等必要な場合は、郵便番号を設定することがあります。  　

※https://www.post.japanpost.jp/zipcode/zipmanual/p04.html より　　　

ここで2点ほど注目しておきたい点があります。

1つが「**当分の間**、算用数字のみを使用」であることです。イギリスやカナダなどではZIPCODE(郵便番号)は6桁の英数字ですが、日本も将来的には算用数字以外が使用されることがあるかもしれません。

2つ目が町域以外にも**高層ビルなどの建物**に設定されることです。この場合、ビルの階ごとに郵便番号が割り振られているケースもあります。また、高層ビルに割り振られた郵便番号と混同しやすいもので配達数の多い**大口事業所**に個別に割り振られた**大口事業所個別番号**という郵便番号も存在します。

大口事業所個別番号は「KEN_ALL.CSV」にデータは存在せず、「jigyosyo.csv」として一覧データが公開されています。
※https://www.post.japanpost.jp/zipcode/dl/jigyosyo/readme.html

### 郵便番号の構成要素
郵便番号は基本的に以下のように構成されています。
<img src="/images/20220719b/pic_01.png" alt="pic_01.png" width="979" height="406" loading="lazy">
※https://www.post.japanpost.jp/zipcode/zipmanual/p04.html より　　

郵便区番号と呼ばれるものが旧3桁・5桁の郵便番号で、町域番号が7桁化に伴い付与されたものです。郵便区番号のうち上2桁を地域番号として使用し、原則1都道府県に1地域が割り当てられています。上2桁をみれば都道府県が特定できるのではないか？と思われるかもしれませんが、配送上の都合から別の番号が割り当てられている場合もあります。

※[郵便番号簿](https://www.post.japanpost.jp/zipcode/dl/bangobo/zip_bgb.pdf)に地域番号の一覧が記載されています

また同様の理由や市区町村の合併などにより次のような郵便番号も存在します。
* 都道府県を跨いで同じ郵便番号を持つ
* 市区町村を跨いで同じ郵便番号を持つ
* 1つの郵便番号で複数の町域を持つ

※参考:[郵便番号や市区町村データを取り扱うときにはまったこと](https://qiita.com/_takwat/items/3a121656425fac7bb820)
## 住所
日本の住所は「東京都品川区大崎1丁目2番2号」という具合に広い地域から狭い地域の階層で表現するようになっています。

住所は私たちが日常的に使用する概念ではありますがその実、非常に複雑な階層構成となっており正規化が難しいです。というのも市区町村以下の住所階層については各自治体で取り決められていること、「住所」には2つのルールが存在することが原因です。

### 住居表記と地番
住所の表示に当たっては「住居表示」と「地番」の二つの方法があります。

明治の地租改正以来、長らく日本の住所表記の役割を担っていたのは「地番」になります。しかし地番は本来課税や不動産投機のための土地の符号であり、それを住所の特定に流用されているもので特に市街地など建物が密集している土地においては不都合が多くありました。その解決策として導入されたのが1962年に制定された住居表示法に基づく住居表示制度です。住居表示は特に都市部に導入されており、政令指定都市では京都市を除いて採用されています。

#### 住居表示
法務局に登記している土地の地番とは別に、各自治体が建物（施設）に対して住所をつける方法です。

一般的には1丁目1番1号のように表示しますが、〇丁目の部分にアルファベットが用いられたりと例外も多く存在します。

※有名な例では大阪市中央区上町は 1丁目,A, B, C で分かれています

#### 地番

法務局に登記している土地の地番を使用します。

一般的には1番地111のようにすべて数字で表示されますが、1977年以前に採番された地番には漢字も使用されます。本記事ではほんの概要しか紹介しませんでしたが、これだけでも住所の正規化が非常に困難なものであることがご理解いただけるのではないでしょうか。住所データをシステムに落とし込む場合は十分配慮いただければと思います。また、郵便番号と住所に関わる様々なAPIを提供されている会社もあります。自身でのシステム化が難しいと感じたらこのようなサービスを利用されるのも一手です。

ケンオールさんは住所入力のつくり方について素晴らしい記事も書かれています。
* [ケンオール](https://kenall.jp/)
* [これだけは押さえよう！住所フォームの作り方](https://blog.kenall.jp/entry/address-form-best-practice)

住所については以下がより詳しく解説をされていますので、関心のある方はぜひ一読をおすすめします。

* [住所検索開発者が教える、知っておきたい日本の住所の話(第1回)](https://note.com/navitime_tech/n/n3e58f71fc97d)
* 今尾恵介『住所と地名の大研究』 (新潮選書 2004)



## 緯度・経度

まずは概念について整理しましょう。

* 緯度
地球上のある地点が赤道からどれくらい北または南にはずれているかの度合を指します。その地点と地球の中心を結ぶ直線が赤道面となす角度によってあらわされます。
赤道を0度とし、赤道より北を北緯、南を南緯と表現し北極・南極がそれぞれ90度になります。
* 経度
地球上のある地点を含む経線と本初子午線のなす角度によってあらわされます。本初子午線よりも東側を東経、西側を西経と表現し、それぞれ180度まであります。
経度は時刻を定める基準ともなっており、日本の時刻の基準となる日本標準時（JST）は兵庫県明石市を通る東経135度の時刻です。

### 表記方法
緯度経度の表記には度分秒表記と10進法表記の2種類があります。

#### 度分秒表記
北緯35度(35°N),東経139度(139°E)のようにあらわします。ただしこの表記では大まかな地点しか表現できないため、より詳細な緯度経度を示す必要がある場合は「分」や「秒」に度数を分解します。

緯度経度の「1度」を1/60に等分したものが「分」にあたり、「分」を1/60したものが「秒」になります。ただし「秒」の小数点以下は10進法で表現します。

表記は「度」「分」「秒」の順に表記し、たとえば弊社の本社所在地は北緯35度37分20.494秒(35° 37' 20.494"N),東経139度43分38.444秒(139° 43' 38.444"E)となります。

#### 10進法表記
「度」だけで緯度経度を表した場合は10進法を使います。インターネット上のGISはこの表記を使用しています。この場合、方角を表すのに東西南北は使用せず、数の正負を利用します。

緯度は北緯をプラス、南緯をマイナスとします。
経度は東経をプラス、西経をマイナスとします。

先ほどの例ですと「35.62235961, 139.7273458」のように表現されます。

#### 表記の変換
以下の方法で変換可能です。

##### 度分秒⇒10進法
「分」を60で、「秒」を3600で割り足し合わせることで変換できます。
```
例：北緯35度37分22.3788秒
35+(37 / 60) +(20.494 / 60 / 60) ≒35.622359
```
##### 10進法⇒度分秒
◆分
小数点以下に60を掛け（①）、整数部を使用
◆秒
①の小数部に60を掛けます
```
例：35.62235961
度：35.62235961　⇒ 35度
分：0.62235961 * 60 = 37.3415766 ⇒ 37分
秒：0.3415766 * 60 = 20.494596‬秒
```
### 測地系
位置情報は一般的に緯度経度の座標を用いて表されますが、ある地点に対する緯度経度の値というは基準とする測量方法によって変わります。各基準によって測量された緯度経度座標系のことを「測地系」と呼びます。

現在日本が採用している測地系はVLBIやGNSSといった宇宙技術を活用して定められた「日本測地系2011(JGD2011)」で、ITRFITRF（国際地球基準座標系）に基づいた**世界測地系**です。

しかし2002年までは（旧）**日本測地系**と呼ばれる測地系を用いていました。これは世界測地系と比べると東京近辺で経度が約-12秒、緯度が約12秒変化しており、距離に換算すると北西へ450m程度のずれがあります。

※[国土地理院HP:日本の測地系](https://www.gsi.go.jp/sokuchikijun/datum-main.html#p1)

測地系の変換に当たっては[国土地理院がサービスを提供しています](https://vldb.gsi.go.jp/sokuchi/surveycalc/tky2jgd/main.html)が、OSSも存在しますので参考にしてみてください。

※[GIS勉強会:測地系変換JavaScriptライブラリ(Proj4js)を使う](http://blog.livedoor.jp/g0031067/archives/51849093.html)

## まとめ
いかがでしたでしょうか？本記事では各概念についてほんの一部しか紹介できませんでしたが、少しでもお役に立てれば幸いです。
機会があれば次はPostGISやIMIコンポーネントツールあたりの記事も書いてみたいですね。

次は金子さんの[Foursquare - Location Matching 参加記 (7th / 1083) ](/articles/20220720a/)です。
